## [Codeforces Round #622 (Div. 2)](https://codeforces.com/contest/1313)

### C：经典问题：单调栈优化

首先最优答案肯定时先递增后递减的。相当于有一个制高点，枚举制高点，自然有 $O(n^2)$ 的算法。但是利用单调栈可以优化到 $O(n)$。设 `l[i], r[i]` 分别表示以 i 为最高点的（前，后）缀和最大值。只讨论前缀，那么求 l[i] 自然时往前找比它小的，然后继承比的小的答案了。
