
## [2018 China Collegiate Programming Contest - Guilin Site](https://codeforces.com/gym/102823/)

## A：分块贪心

题意：把两个数组`a, b`合并成一个数组`c` 保持元素原有的顺序，使得 $\sum_{i = 1}^{n + m} c_i$ 最小。

首先观察到两个事实：1. 最终 c 数组中如果有相邻元素分别在不同的原数组，那么在前面的必然更大。2. 由于我们想尽量让大的元素放在前面，但是又要保持元素原有的性质，这样就会导致大的元素推自己前面的元素跑，例如 n 个 a 中元素，和 m 个 b 中元素，一个放前面一个放后面，那么哪一个放前面呢，计算之后会发现，平均值大的放前面即可。

### B：NTT + 生成函数

首先注意到最终结果必然是形式为 $r[i] = c_0 A[i] + \cdots c_{n - 1 - i} A[n - 1]$ 的样子，并且这些 $c_i$ 都只和 `m, L` 有关，实际上它们的系数不难看出是 $(1 + x + \cdot x^{L- 1})^m$ 的系数，并且我们计算的时候只要模 $x^n$ 即可。注意到上式可以直接生成函数开方直接求解，复杂度为 $O(n \log n \log m)$，当然了注意到 $(1 + x + \cdot x^{L- 1})^m = (1 - x^L)^m (1 - x)^{-m}$，直接二项式展开求一次乘法，所以可以做到整体复杂度为 $O(n \log n)$。我也是这个题的[最佳解答](https://codeforces.com/gym/102823/status?order=BY_CONSUMED_TIME_ASC)
